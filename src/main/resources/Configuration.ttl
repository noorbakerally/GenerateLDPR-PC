@base <http://localhost:8888/> .
@prefix ldp:     <http://www.w3.org/ns/ldp#>.
@prefix :     <http://opensensingcity.emse.fr/LDPDesignVocabulary/> .
@prefix data:     <http://opensensingcity.emse.fr/LDPDesign/data/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .

data:CatalogMap a :ContainerMap;
	:containerMap data:ContainerMapDataset;
	:containerType ldp:BasicContainer;
	:resourceMap [
        	    :resourceQuery "Select * WHERE { ?x a dcat:Catalog .}";
        	    :graphTemplate :SubjectObjectGraph;
                :linkToSource foaf:primaryTopic;
                :dataSource data:DataSource1;
        	] .

data:ContainerMapDataset a :ContainerMap;
	:rdfSourceMap data:RDFSourceMapDistributions;
	:containerType ldp:BasicContainer;
    :resourceMap [
    	    :resourceQuery "Select * WHERE { ?_resource dcat:dataset  ?x . }";
    	    :graphTemplate :SubjectObjectGraph;
            :linkToSource foaf:primaryTopic;
            :dataSource data:DataSource1;
    	] .


data:RDFSourceMapDistributions a :RDFSourceMap;
	:resourceMap [
	    :resourceQuery "Select * WHERE { ?_resource dcat:distribution ?x .}";
	    :graphTemplate :SubjectObjectGraph;
        :linkToSource foaf:primaryTopic;
        :dataSource data:DataSource1;
	] .

